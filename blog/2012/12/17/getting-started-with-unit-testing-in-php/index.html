
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Getting Started with Unit Testing in PHP - Wern Ancheta</title>
  <meta name="author" content="Wern Ancheta">

  
  <meta name="description" content="I finally got the time to play around with unit testing in PHP.
I&rsquo;ve heard about the term months ago but I really never had the time to
play &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://anchetaWern.github.io/blog/2012/12/17/getting-started-with-unit-testing-in-php">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Wern Ancheta" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/javascripts/libs/fancybox/source/jquery.fancybox.css">
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Wern Ancheta</a></h1>
  
    <h2>Adventures in Web Development.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:anchetaWern.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/aboutme">About Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Getting Started With Unit Testing in PHP</h1>
    
    
      <p class="meta">
        








  



  
<time datetime="2012-12-17T14:39:00+08:00" pubdate data-updated="true">Dec 17<span>th</span>, 2012</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>I finally got the time to play around with unit testing in PHP.
I&rsquo;ve heard about the term months ago but I really never had the time to
play around with it because I considered it as not absolutely necessary
for my development workflow. I mean I can still produce useable programs without
writing a test for it right?</p>

<p>But admit it, testing the program that you have written is not really that exciting
as writing the program itself. Sometimes we even get lazy and not test the program at
all only to find things breaking on production. (Note: I&rsquo;m referring to in-browser testing here)</p>

<p>Ok so maybe I haven&rsquo;t convinced you to do unit testing but I&rsquo;m just here to share my first experience
of doing unit testing in PHP so I think its fine.</p>

<p>Let&rsquo;s get straight to the point and end this boring introduction.</p>

<!--More-->


<h3>The Process</h3>

<p>The idea behind Unit Testing is that you should write your test first
before writing the actual program (the code that you&rsquo;re going to test).
This doesn&rsquo;t really made sense the first time I&rsquo;ve heard of it, because how will you
test something that doesn&rsquo;t even exist right? But that&rsquo;s just how TDD (Test Driven Development) works.
It may seem difficult but if you have a crystal clear understanding of the program
that you&rsquo;re trying to create then writing a test before writing the actual program
wont&#8217; be that hard. Here&rsquo;s the actual process:</p>

<ol>
<li>Write the test code</li>
<li>Write the code to be tested</li>
<li>Run the tests</li>
<li>Refactor the code based on the test results</li>
</ol>


<h3>Things You&rsquo;ll Need</h3>

<ul>
<li><a href="http://www.simpletest.org">Simple Test</a></li>
<li><a href="http://getcomposer.org/">Composer</a> &ndash; If you&rsquo;re familiar with Node.js this is like <code>npm</code> but for PHP.</li>
<li><a href="https://github.com/sebastianbergmann/phpunit/">PHPUnit</a></li>
</ul>


<h3>Simple Test</h3>

<p>Before we play around with Composer and PHPUnit we&rsquo;ll play with Simple Test.
If I have to describe it Simple Test is like the trimmed down version of PHPUnit that&rsquo;s
why its the perfect starting place for learning unit testing in PHP.</p>

<p>Simple Test can be run on the browser and on the terminal so you have the freedom to choose
where you want to run your tests.</p>

<p>If you haven&rsquo;t downloaded Simple Test yet, now is the time to do so.
Once you&rsquo;re done with downloading, extract it on your working directory.
The simple test directory will look something like this:</p>

<p><img src="/images/posts/playing_with_unit_testing_php/simpletest_dir.jpg" alt="simple_test_dir" /></p>

<p>Ok cool, now create the test file.
I guess the convention that most people follow is to append <code>_test</code> to the actual class that were trying to test.
So if we are planning to create a class called <code>users</code> and were writing a test for it then the
filename for the test would be <code>test_users.php</code>.</p>

<p>Now put the following code in your <code>test_users.php</code> file.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">require_once</span><span class="p">(</span><span class="nb">dirname</span><span class="p">(</span><span class="k">__FILE__</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;/simpletest/autorun.php&#39;</span><span class="p">);</span> <span class="c1">//this is responsible for running your test code</span>
</span><span class='line'><span class="k">require_once</span><span class="p">(</span><span class="s1">&#39;users.php&#39;</span><span class="p">);</span> <span class="c1">//the future file that will contain the class that we want to test </span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1">//autorun.php file imports unit_tester.php </span>
</span><span class='line'><span class="c1">//which contains the class that were extending here</span>
</span><span class='line'><span class="k">class</span> <span class="nc">TestUsers</span> <span class="k">extends</span> <span class="nx">UnitTestCase</span><span class="p">{</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"> </span>
</span></code></pre></td></tr></table></div></figure>


<p>Like I said earlier, we must have a clear understanding of the program that we will create
before we actually code it.</p>

<p>Just for the purpose of trying out unit testing in PHP were just going to create a simple class
that let&rsquo;s you create, update, delete, and view users.
Yep CRUD! but were not actually going to touch the database.
Were just gonna use arrays to store our users.</p>

<p>With this we already know that we have to create methods for:</p>

<ul>
<li>creating new users</li>
<li>updating current users</li>
<li>delete current users</li>
<li>view users</li>
</ul>


<p>Now we have a clear understanding of the program that were going to write.
All we have to do now is to imagine that the <code>users</code> class has already
been created. And all were doing now is calling the methods in that class.</p>

<p>Going back to <code>test_users.php</code>.
Create a method that will test if a user has really been created
after calling the imaginary <code>create_user()</code> method.</p>

<p>Methods for classes used for testing also has <code>test</code> as a prefix.
So if were trying to check if a user has indeed been created.
Then the name of our method would be something like <code>testUserCreated</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testUserCreated</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$users</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Users</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$old_users</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">getUsers</span><span class="p">();</span> <span class="c1">//get current users</span>
</span><span class='line'>  
</span><span class='line'>  <span class="c1">//create a new user</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">createUser</span><span class="p">(</span>
</span><span class='line'>      <span class="k">array</span><span class="p">(</span>
</span><span class='line'>          <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;kirito&#39;</span><span class="p">,</span>
</span><span class='line'>          <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
</span><span class='line'>          <span class="s1">&#39;address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sao&#39;</span>
</span><span class='line'>          <span class="p">));</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$new_users</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">getUsers</span><span class="p">();</span> <span class="c1">//get new users </span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//compare the old user count to the new user count, </span>
</span><span class='line'>  <span class="c1">//returns true if the new user count is greater than the old user count</span>
</span><span class='line'>  <span class="nv">$newcount_is_greater_than_old_count</span> <span class="o">=</span> <span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$new_users</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$old_users</span><span class="p">));</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="nv">$newcount_is_greater_than_old_count</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>We have to create an object for the class that were trying to test for every method
in the test class. This keep things at an atomic level.
This also gives us the ability to use more than one class for each method in the test class.</p>

<p>At this point you can already run the test, but of course it would fail since we haven&rsquo;t
created the class that were trying to test yet.</p>

<p>Ok let&rsquo;s continue writing methods for our test class.
This time were going to test if the user count is what we expect
it to be after adding a couple of users.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testUserCount</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$users</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Users</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">createUser</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;kirito&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sao&#39;</span><span class="p">));</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">createUser</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;asuna&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sao&#39;</span><span class="p">));</span>
</span><span class='line'>  <span class="nv">$current_users</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">getUsers</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$count_is_two</span> <span class="o">=</span> <span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$current_users</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">//after adding two users we expect that the current number of users is 2</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="nv">$count_is_two</span><span class="p">);</span> <span class="c1">//check if our condition has returned true</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Create another test method that will test if the <code>deleteUsers()</code> method is working:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testUserNothing</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$users</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Users</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">createUser</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;wern&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sfc&#39;</span><span class="p">));</span> <span class="c1">//create a new user</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">deleteUsers</span><span class="p">();</span> <span class="c1">//delete all the users</span>
</span><span class='line'>  <span class="nv">$current_users</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">getUsers</span><span class="p">();</span> <span class="c1">//get all the current users</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//after deleting all users we expect </span>
</span><span class='line'>  <span class="c1">//that there are no more users, thus the count will be zero</span>
</span><span class='line'>  <span class="nv">$count_is_zero</span> <span class="o">=</span> <span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$current_users</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertTrue</span><span class="p">(</span><span class="nv">$count_is_zero</span><span class="p">);</span> <span class="c1">//check if our condition has returned true</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Next we test if the <code>deleteUser</code> method is really working:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testUserDeleted</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$users</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Users</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">deleteUsers</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$old_users</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">getUsers</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">createUser</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;kirito&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sao&#39;</span><span class="p">));</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">createUser</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;asuna&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">21</span><span class="p">,</span> <span class="s1">&#39;address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sao&#39;</span><span class="p">));</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">deleteUser</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$current_users</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">getUsers</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEqual</span><span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$current_users</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Finally, create another method that will check if the users details has really been updated:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testUserUpdate</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$users</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Users</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$current_users</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">getUsers</span><span class="p">();</span>
</span><span class='line'>  
</span><span class='line'>  <span class="c1">//first user is at index 0, which makes its id 0</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">createUser</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;kirito&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;address&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sao&#39;</span><span class="p">));</span>
</span><span class='line'>  <span class="nv">$old_name</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">getUser</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>
</span><span class='line'>  <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">updateUser</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;kirigaya kazuto&#39;</span><span class="p">),</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">//supply the user id as 2nd argument</span>
</span><span class='line'>  <span class="nv">$new_name</span> <span class="o">=</span> <span class="nv">$users</span><span class="o">-&gt;</span><span class="na">getUser</span><span class="p">(</span><span class="mi">0</span><span class="p">)[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertNotEqual</span><span class="p">(</span><span class="nv">$old_name</span><span class="p">,</span> <span class="nv">$new_name</span><span class="p">);</span> <span class="c1">//check that the old user name is not equal to the new name</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<h3>User Class</h3>

<p>Now were ready to create the <code>users</code> class.
Pretty much we already know what our class would look like
based on the methods in the test class that we created so here it is:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Users</span><span class="p">{</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">public</span> <span class="nv">$users</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">createUser</span><span class="p">(</span><span class="nv">$user_details</span><span class="p">){</span>
</span><span class='line'>      <span class="nv">$current_users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span><span class="p">;</span>
</span><span class='line'>      <span class="nb">array_push</span><span class="p">(</span><span class="nv">$current_users</span><span class="p">,</span> <span class="nv">$user_details</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span> <span class="o">=</span> <span class="nv">$current_users</span><span class="p">;</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$current_users</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">updateUser</span><span class="p">(</span><span class="nv">$user_details</span><span class="p">,</span> <span class="nv">$user_id</span><span class="p">){</span>
</span><span class='line'>      <span class="nv">$current_users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span><span class="p">;</span>
</span><span class='line'>      <span class="k">foreach</span><span class="p">(</span><span class="nv">$user_details</span> <span class="k">as</span> <span class="nv">$field</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">){</span>
</span><span class='line'>          <span class="nv">$current_users</span><span class="p">[</span><span class="nv">$user_id</span><span class="p">][</span><span class="nv">$field</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      
</span><span class='line'>      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span> <span class="o">=</span> <span class="nv">$current_users</span><span class="p">;</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$current_users</span><span class="p">[</span><span class="nv">$user_id</span><span class="p">];</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">deleteUser</span><span class="p">(</span><span class="nv">$user_id</span><span class="p">){</span>
</span><span class='line'>      <span class="nv">$current_users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span><span class="p">;</span>
</span><span class='line'>      <span class="nb">unset</span><span class="p">(</span><span class="nv">$current_users</span><span class="p">[</span><span class="nv">$user_id</span><span class="p">]);</span>
</span><span class='line'>      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span> <span class="o">=</span> <span class="nv">$current_users</span><span class="p">;</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$current_users</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">deleteUsers</span><span class="p">(){</span>
</span><span class='line'>      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">getUser</span><span class="p">(</span><span class="nv">$user_id</span><span class="p">){</span>
</span><span class='line'>      <span class="nv">$current_users</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span><span class="p">;</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$current_users</span><span class="p">[</span><span class="nv">$user_id</span><span class="p">];</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">getUsers</span><span class="p">(){</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">users</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>I can&rsquo;t think of beautiful way to mess this up and make the test fail so
if you run the test now (either on the browser or on the terminal) it will
pass.</p>

<h4>Running Simple Test</h4>

<p>You can run the test on the browser by pointing out to the test file.
Mine is at: <code>http://my.dev/tester/php/unit_testing/user_test.php</code></p>

<p><img src="/images/posts/playing_with_unit_testing_php/simpletest_browser.jpg" alt="simple_test_browser" /></p>

<p>Or you can do it on the terminal by executing the following command:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">php</span> <span class="nx">user_test</span><span class="o">.</span><span class="nx">php</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/posts/playing_with_unit_testing_php/simpletest_cmd.jpg" alt="simple_test_cmd" /></p>

<p>I&rsquo;ll just leave it to you how you would want this to fail, maybe remove some
code on the <code>users</code> class, let it fail then fix it. The best way to learn is to
mess things up. Try to get yourself in a deep hole then try to climb up again.
That&rsquo;s learning things the hard way, it would take some time but you will surely not
forget what you&rsquo;ve learned after seeing Natalie Portman if you learn things this way.</p>

<h3>Composer</h3>

<p>For the part two of this little walkthrough on PHPUnit Testing were going
to take a look at Composer (PEAR? pftt.) and how we can use it to import PHPUnit
on our directory.</p>

<h4>Installing Composer</h4>

<p>As stated in the composer website, you can install composer through <code>curl</code> in which
case you can download <code>curl</code> <a href="http://curl.haxx.se/download.html">here</a> if you don&rsquo;t
already have it on your system.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">curl</span> <span class="o">-</span><span class="nx">s</span> <span class="nx">https</span><span class="o">://</span><span class="nx">getcomposer</span><span class="o">.</span><span class="nx">org</span><span class="o">/</span><span class="nx">installer</span> <span class="o">|</span> <span class="nx">php</span>
</span></code></pre></td></tr></table></div></figure>


<p>There&rsquo;s also the windows installer if you&rsquo;re on windows.</p>

<p>And lastly you can also install it via <code>php</code> itself.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">php</span> <span class="o">-</span><span class="nx">r</span> <span class="s2">&quot;eval(&#39;?&gt;&#39;.file_get_contents(&#39;https://getcomposer.org/installer&#39;));&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The above methods installs composer globally and you won&rsquo;t have the <code>composer.phar</code> if composer
is installed globally. But we don&rsquo;t really need that so create a <code>composer.json</code> file instead.</p>

<h4>Installing PHPUnit</h4>

<p>Inside that file were going to specify the dependencies. We only need one and that is PHPUnit.
There are a bunch of PHPUnit packages in <a href="https://packagist.org/search/?q=phpunit">packagist.org</a> but were
going to use <code>EHER/PHPUnit</code> since it gives the idea that it can be used with composer plus it has 4000+ downloads
at the time of writing of this post which means that many people are using it.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="s2">&quot;require&quot;</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="s2">&quot;EHER/PHPUnit&quot;</span><span class="o">:</span> <span class="s2">&quot;dev-master&quot;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Once you&rsquo;re done with that you can now run <code>composer install</code>.
This can take a couple of minutes depending on your connection speed as its going
to download the dependencies that you&rsquo;ve specified.</p>

<p>Once its done you will now see a new folder called <code>vendor</code> which contains the following files:</p>

<p><img src="/images/posts/playing_with_unit_testing_php/phpunit_dir.jpg" alt="phpunit_dir" /></p>

<h3>Playing with PHPUnit</h3>

<p>Now were ready to play with PHPUnit.
Were going to start with something simple, a test for a calculator class.</p>

<p>Our simple calculator would only have 4 methods:</p>

<ul>
<li>method for adding an array of numbers</li>
<li>method for subtracting two numbers (we can&rsquo;t do an array of numbers since the difference is affected by the order of the items)</li>
<li>method for multiplying an array of numbers</li>
<li>method for dividing two numbers</li>
</ul>


<h4>Calculator Test</h4>

<p>Create a new file and call it <code>calculator_test.php</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">require_once</span><span class="p">(</span><span class="s1">&#39;calculator.php&#39;</span><span class="p">);</span> <span class="c1">//our calculator class which we will creater later.</span>
</span><span class='line'><span class="k">class</span> <span class="nc">CalculatorTest</span> <span class="k">extends</span> <span class="nx">PHPUnit_Framework_TestCase</span><span class="p">{</span>
</span><span class='line'>  
</span><span class='line'>  <span class="c1">//test if the add() method in our calculator class</span>
</span><span class='line'>  <span class="c1">//actually returns the sum that</span>
</span><span class='line'>  <span class="c1">//were expecting</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">testAdd</span><span class="p">(){</span>
</span><span class='line'>      <span class="nv">$calc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Calculator</span><span class="p">();</span>
</span><span class='line'>      <span class="nv">$sum</span> <span class="o">=</span> <span class="nv">$calc</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">));</span>
</span><span class='line'>      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="nv">$sum</span><span class="p">);</span> <span class="c1">//check if 2+3+4+5 is equal to 14</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//test if the subtract() method in our calculator class</span>
</span><span class='line'>  <span class="c1">//actually returns the difference that</span>
</span><span class='line'>  <span class="c1">//were expecting</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">testSubtract</span><span class="p">(){</span>
</span><span class='line'>      <span class="nv">$calc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Calculator</span><span class="p">();</span>
</span><span class='line'>      <span class="nv">$difference</span> <span class="o">=</span> <span class="nv">$calc</span><span class="o">-&gt;</span><span class="na">subtract</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nv">$difference</span><span class="p">);</span> <span class="c1">//check if 5 - 2 is equal to 3</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//test if the multiply() method in our calculator class</span>
</span><span class='line'>  <span class="c1">//actually returns the product that</span>
</span><span class='line'>  <span class="c1">//were expecting   </span>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">testMultiply</span><span class="p">(){</span>
</span><span class='line'>      <span class="nv">$calc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Calculator</span><span class="p">();</span>
</span><span class='line'>      <span class="nv">$product</span> <span class="o">=</span> <span class="nv">$calc</span><span class="o">-&gt;</span><span class="na">multiply</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">));</span>
</span><span class='line'>      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="nv">$product</span><span class="p">);</span> <span class="c1">//check if 1*3*5*6 is equal to 90</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//test if the divide() method in our calculator class</span>
</span><span class='line'>  <span class="c1">//actually returns the quotient that</span>
</span><span class='line'>  <span class="c1">//were expecting   </span>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">testDivide</span><span class="p">(){</span>
</span><span class='line'>      <span class="nv">$calc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Calculator</span><span class="p">();</span>
</span><span class='line'>      <span class="nv">$quotient</span> <span class="o">=</span> <span class="nv">$calc</span><span class="o">-&gt;</span><span class="na">divide</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</span><span class='line'>      <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="nv">$quotient</span><span class="p">);</span> <span class="c1">//check if 10/2 is equal to 5</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<h4>Calculator Class</h4>

<p>And the calculator class:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Calculator</span><span class="p">{</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">add</span><span class="p">(</span><span class="nv">$numbers_to_add</span><span class="p">){</span>
</span><span class='line'>      <span class="nv">$sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>      <span class="k">foreach</span><span class="p">(</span><span class="nv">$numbers_to_add</span> <span class="k">as</span> <span class="nv">$num</span><span class="p">){</span>
</span><span class='line'>          <span class="nv">$sum</span> <span class="o">=</span> <span class="nv">$num</span> <span class="o">+</span> <span class="nv">$num</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$sum</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">subtract</span><span class="p">(</span><span class="nv">$x</span><span class="p">,</span> <span class="nv">$y</span><span class="p">){</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$y</span> <span class="o">-</span> <span class="nv">$x</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">multiply</span><span class="p">(</span><span class="nv">$numbers_to_multiply</span><span class="p">){</span>
</span><span class='line'>      <span class="nv">$product</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>      <span class="k">foreach</span><span class="p">(</span><span class="nv">$numbers_to_multiply</span> <span class="k">as</span> <span class="nv">$num</span><span class="p">){</span>
</span><span class='line'>          <span class="nv">$product</span> <span class="o">=</span> <span class="nv">$num</span> <span class="o">*</span> <span class="nv">$product</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$product</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">function</span> <span class="nf">divide</span><span class="p">(</span><span class="nv">$x</span><span class="p">,</span> <span class="nv">$y</span><span class="p">){</span>
</span><span class='line'>      <span class="k">return</span> <span class="nv">$x</span> <span class="o">/</span> <span class="nv">$y</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Ok so I&rsquo;ve intentionally messed up the calculator class so the test would fail.
By taking a closer look you would notice what methods I&rsquo;ve messed up but don&rsquo;t
fix it yet because were going to take a look at how the test can help
us determine what exactly is wrong with our calculator class.</p>

<p>You can go ahead and open up a new terminal at <code>vendor/bin</code> then just specify the location of
your test file like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">phpunit</span> <span class="nx">D</span><span class="o">:</span><span class="nx">\web_files\tester\php\unit_testing\calculator_test</span><span class="o">.</span><span class="nx">php</span>
</span></code></pre></td></tr></table></div></figure>


<p>But if you don&rsquo;t want to specify the location of your test file everytime you run the
test then just add the path for phpunit in your system path.
Mine looks something like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">D</span><span class="o">:</span><span class="nx">\web_files\tester\php\unit_testing\vendor\bin</span>
</span></code></pre></td></tr></table></div></figure>


<p>So if I&rsquo;m running my tests I only have to open a new terminal on the directory
where I have my tests and run phpunit together with the name of the test file:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">phpunit</span> <span class="nx">calculator_test</span><span class="o">.</span><span class="nx">php</span>
</span></code></pre></td></tr></table></div></figure>


<p>Were going to get an error after running the command above:</p>

<p><img src="/images/posts/playing_with_unit_testing_php/phpunit_calcfailed.jpg" alt="phpunit_calcfailed" /></p>

<p>We can see from here that we&rsquo;ve messed up the <code>add()</code> and <code>subtract()</code> method.
For the <code>add()</code> method we were expecting to get <code>14</code> but our method only returned <code>10</code>.
And for the <code>subtract()</code> method we were expecting to get <code>3</code> but it returned <code>-3</code> instead.</p>

<p>Looking closely at the <code>add()</code> method inside the loop
instead of adding the current sum to the current number were adding the
current number with the current number so we ended up with <code>10</code> as a result
because the last item in our array of number is 5. And <code>5 + 5</code> is <code>10</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">add</span><span class="p">(</span><span class="nv">$numbers_to_add</span><span class="p">){</span>
</span><span class='line'>  <span class="nv">$sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>  <span class="k">foreach</span><span class="p">(</span><span class="nv">$numbers_to_add</span> <span class="k">as</span> <span class="nv">$num</span><span class="p">){</span>
</span><span class='line'>      <span class="nv">$sum</span> <span class="o">=</span> <span class="nv">$num</span> <span class="o">+</span> <span class="nv">$num</span><span class="p">;</span> <span class="c1">//this line messed it up</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$sum</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>So were just going to replace it with:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$sum</span> <span class="o">=</span> <span class="nv">$num</span> <span class="o">+</span> <span class="nv">$sum</span>
</span></code></pre></td></tr></table></div></figure>


<p>As for the <code>subtract()</code> method we simply messed up the ordering
of the variables to be subtracted:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">subtract</span><span class="p">(</span><span class="nv">$x</span><span class="p">,</span> <span class="nv">$y</span><span class="p">){</span>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$y</span> <span class="o">-</span> <span class="nv">$x</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>So were just going to replace it with:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="k">return</span> <span class="nv">$x</span> <span class="o">-</span> <span class="nv">$y</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Running the test again:</p>

<p><img src="/images/posts/playing_with_unit_testing_php/phpunit_calcsuccess.jpg" alt="phpunit_calcsuccess" /></p>

<p>Yay! everything passes!</p>

<p>Taking a look closely at the test results it said:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">OK</span> <span class="p">(</span><span class="mi">4</span> <span class="nx">tests</span><span class="p">,</span> <span class="mi">4</span> <span class="nx">assertions</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Tests are the methods that you&rsquo;ve written for testing.
Assertions are the assertion methods that you&rsquo;ve used from the PHPUnit test suite
like <code>assertEquals()</code>.</p>

<h3>More PHPUnit Fun</h3>

<p>By now you should have probably grokked the basics of unit testing in PHP.
But were going to play around with it further.</p>

<p>This time without using a class to test out.
You may think that this beats out the purpose
of unit testing but were just here to play and see what
PHPUnit has to offer. Though I&rsquo;m not forcing you to do the same.
You can always write classes to test
out if you want.</p>

<h4>No Class Test</h4>

<p>Create another test and call it <code>noclass_test.php</code>.
As the name suggests were not going to use any class
to test out. Were going to write the functionality
itself inside our test methods.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">class</span> <span class="nc">NoClassTest</span> <span class="k">extends</span> <span class="nx">PHPUnit_Framework_TestCase</span><span class="p">{</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<h5>Assert Empty</h5>

<p>First let&rsquo;s test out the <code>assertEmpty()</code> method
which simply checks if the value of a variable is indeed empty.
The method below will return true since we&rsquo;ve supplied it with an empty
array.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testEmptyArray</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEmpty</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$array</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<h5>Dependencies</h5>

<p>The methods that we write for a class isn&rsquo;t standalone,
which means that we don&rsquo;t just call it and be done with it.
Sometimes some of our methods depends on the return value of
other methods of our class.</p>

<p>And that&rsquo;s the idea behind dependencies. In PHPUnit we can also
have test methods that depends on the return values of other test methods.
We can specify this by adding the <code>@depends</code> keyword together with the
name of the method in which our method depends on.</p>

<p>As you can see the method below depends on the return value of the <code>testEmptyArray()</code> method.
We can receive the return value of <code>testEmptyArray()</code> by adding a parameter in this
case we call it <code>$array</code>. Methods can only have 1 return value so at most we&rsquo;ll only have
one parameter in our method to receive the return values.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * @depends testEmptyArray</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testAddUser</span><span class="p">(</span><span class="k">array</span> <span class="nv">$array</span><span class="p">){</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//push an item to the empty array returned from testEmptyArray</span>
</span><span class='line'>  <span class="nb">array_push</span><span class="p">(</span><span class="nv">$array</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;dom&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">21</span><span class="p">));</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertNotEmpty</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span> <span class="c1">//check if array is not empty</span>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$array</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Create another method and call it <code>testUpdateUser()</code> which will simply
check if the old value is not equal to the value after updating.</p>

<p>Again were depending on another methods return value so we need to specify
at least one parameter to receive that value.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * @depends testAddUser</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testUpdateUser</span><span class="p">(</span><span class="k">array</span> <span class="nv">$user</span><span class="p">){</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//this uses the user that we pushed earlier</span>
</span><span class='line'>  <span class="c1">//from the testAddUser() method which is: dom and 21</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$old_name</span> <span class="o">=</span> <span class="nv">$user</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>  <span class="c1">//dom</span>
</span><span class='line'>  <span class="nv">$old_age</span> <span class="o">=</span> <span class="nv">$user</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;age&#39;</span><span class="p">];</span> <span class="c1">//21</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//update it with ash and 15</span>
</span><span class='line'>  <span class="nv">$user</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ash&#39;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$user</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//this will return true since we&#39;ve updated both values</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertNotEquals</span><span class="p">(</span><span class="nv">$old_name</span><span class="p">,</span> <span class="nv">$user</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;name&#39;</span><span class="p">]);</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertNotEquals</span><span class="p">(</span><span class="nv">$old_age</span><span class="p">,</span> <span class="nv">$user</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;age&#39;</span><span class="p">]);</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$user</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<h5>Data Providers</h5>

<p>We can also have methods whose only job is to be a <code>data provider</code>.
A data provider is simply a method which returns values.
It doesn&rsquo;t have assert methods in it.</p>

<p>Here were returning an array of students with swords and skills:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">sword_and_skills</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$students</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>      <span class="s1">&#39;kirito&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;sword&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;dark repulser&#39;</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;dual blades&#39;</span><span class="p">),</span>
</span><span class='line'>      <span class="s1">&#39;asuna&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;sword&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;wind fleuret&#39;</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;two handed assault sphere&#39;</span><span class="p">),</span>
</span><span class='line'>      <span class="s1">&#39;klein&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;sword&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;karakurenai&#39;</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;one handed curved blade&#39;</span><span class="p">)</span>
</span><span class='line'>      <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$students</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s use the above method as a data provider for our <code>testContainsSwordsAndSkills()</code> method.
Again were using the same format as that of <code>dependencies</code> only this time the keyword is <code>@dataProvider</code> plus
the name of the method which returns the data.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * @dataProvider sword_and_skills</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testContainsSwordsAndSkills</span><span class="p">(</span><span class="nv">$sword</span><span class="p">,</span> <span class="nv">$skill</span><span class="p">){</span>
</span><span class='line'>  <span class="nv">$awesome_swords</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;dark repulser&#39;</span><span class="p">,</span> <span class="s1">&#39;elucidator&#39;</span><span class="p">,</span> <span class="s1">&#39;wind fleuret&#39;</span><span class="p">,</span> <span class="s1">&#39;karakurenai&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$awesome_skills</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>      <span class="s1">&#39;blade throwing&#39;</span><span class="p">,</span> <span class="s1">&#39;one handed curved blade&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="s1">&#39;two handed assault sphere&#39;</span><span class="p">,</span>
</span><span class='line'>      <span class="s1">&#39;single blade&#39;</span><span class="p">,</span> <span class="s1">&#39;dual blades&#39;</span>
</span><span class='line'>      <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertContains</span><span class="p">(</span><span class="nv">$sword</span><span class="p">,</span> <span class="nv">$awesome_swords</span><span class="p">);</span> <span class="c1">//check if all of the students has the swords considered to be awesome</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertContains</span><span class="p">(</span><span class="nv">$skill</span><span class="p">,</span> <span class="nv">$awesome_skills</span><span class="p">);</span> <span class="c1">//check if all of the students has the skills considered to be awesome</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Examining the code above might seem confusing. And I admit that I&rsquo;m still confused even now.
So if anyone of you knows what the data provider does behind the scenes then let met know in the comments.</p>

<p>So yup I&rsquo;ll give this one a shot but don&rsquo;t kill me if its wrong.</p>

<p>In our data provider we have an array which contains 3 arrays that represents the
details (swords and skills) of the students.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="nv">$students</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>  <span class="s1">&#39;kirito&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;sword&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;dark repulser&#39;</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;dual blades&#39;</span><span class="p">),</span>
</span><span class='line'>  <span class="s1">&#39;asuna&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;sword&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;wind fleuret&#39;</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;two handed assault sphere&#39;</span><span class="p">),</span>
</span><span class='line'>  <span class="s1">&#39;klein&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;sword&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;karakurenai&#39;</span><span class="p">,</span> <span class="s1">&#39;skill&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;one handed curved blade&#39;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">);</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"> </span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>In our method we have two parameters which represents the index(sword and skill) for each of the student details:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nx">testContainsSwordsAndSkills</span><span class="p">(</span><span class="nv">$sword</span><span class="p">,</span> <span class="nv">$skill</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>And that&rsquo;s what were checking here:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertContains</span><span class="p">(</span><span class="nv">$sword</span><span class="p">,</span> <span class="nv">$awesome_swords</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>It checks whether the sword equipment of kirito, asuna and klein is in the array of awesome swords if
one of the equipped sword of the three students isn&rsquo;t on the array of awesome swords then the assertion would fail.
The same rule is applied with the skills.</p>

<p>I guess we need one more example for data provider.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">anime</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>          <span class="k">array</span><span class="p">(</span>
</span><span class='line'>              <span class="k">array</span><span class="p">(</span><span class="s1">&#39;luffy&#39;</span><span class="p">,</span> <span class="s1">&#39;zoro&#39;</span><span class="p">,</span> <span class="s1">&#39;brook&#39;</span><span class="p">,</span> <span class="s1">&#39;sanji&#39;</span><span class="p">),</span>
</span><span class='line'>              <span class="k">array</span><span class="p">(</span><span class="s1">&#39;ichigo&#39;</span><span class="p">,</span> <span class="s1">&#39;zangetsu&#39;</span><span class="p">,</span> <span class="s1">&#39;toshiro&#39;</span><span class="p">,</span> <span class="s1">&#39;byakuya&#39;</span><span class="p">),</span>
</span><span class='line'>              <span class="k">array</span><span class="p">(</span><span class="s1">&#39;sai&#39;</span><span class="p">,</span> <span class="s1">&#39;kiba&#39;</span><span class="p">,</span> <span class="s1">&#39;gaara&#39;</span><span class="p">,</span> <span class="s1">&#39;yamato&#39;</span><span class="p">,</span> <span class="s1">&#39;jiraiya&#39;</span><span class="p">)</span>
</span><span class='line'>              <span class="p">)</span>
</span><span class='line'>      <span class="p">);</span>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$data</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>This time were going to check if the total number of anime characters is what
we expect it to be. As you can see from the array above we have:</p>

<ul>
<li>4 characters from Onepiece</li>
<li>4 characters from Bleach</li>
<li>5 characters from Naruto</li>
</ul>


<p>Which makes it a total of 13.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * @dataProvider anime</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testTotalStudents</span><span class="p">(</span><span class="nv">$onepiece</span><span class="p">,</span> <span class="nv">$bleach</span><span class="p">,</span> <span class="nv">$naruto</span><span class="p">){</span>
</span><span class='line'>  
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$onepiece</span><span class="p">)</span> <span class="o">+</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$bleach</span><span class="p">)</span> <span class="o">+</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$naruto</span><span class="p">));</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>If you run the test it will pass.</p>

<p>Ok one last example for data provider before we proceed with the next assertion method.
This time were just going to restructure our data source:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">anime</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>          <span class="k">array</span><span class="p">(</span>
</span><span class='line'>              <span class="k">array</span><span class="p">(</span><span class="s1">&#39;luffy&#39;</span><span class="p">,</span> <span class="s1">&#39;zoro&#39;</span><span class="p">,</span> <span class="s1">&#39;brook&#39;</span><span class="p">,</span> <span class="s1">&#39;sanji&#39;</span><span class="p">)</span>
</span><span class='line'>              <span class="p">),</span>
</span><span class='line'>          <span class="k">array</span><span class="p">(</span>
</span><span class='line'>              <span class="k">array</span><span class="p">(</span><span class="s1">&#39;ichigo&#39;</span><span class="p">,</span> <span class="s1">&#39;zangetsu&#39;</span><span class="p">,</span> <span class="s1">&#39;toshiro&#39;</span><span class="p">,</span> <span class="s1">&#39;byakuya&#39;</span><span class="p">)</span>
</span><span class='line'>              <span class="p">),</span>
</span><span class='line'>          <span class="k">array</span><span class="p">(</span>
</span><span class='line'>              <span class="k">array</span><span class="p">(</span><span class="s1">&#39;sai&#39;</span><span class="p">,</span> <span class="s1">&#39;kiba&#39;</span><span class="p">,</span> <span class="s1">&#39;gaara&#39;</span><span class="p">,</span> <span class="s1">&#39;yamato&#39;</span><span class="p">)</span>
</span><span class='line'>              <span class="p">)</span>
</span><span class='line'>      <span class="p">);</span>
</span><span class='line'>  <span class="k">return</span> <span class="nv">$data</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Then we&rsquo;ll utilize it as our data provider:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="sd">/**</span>
</span><span class='line'><span class="sd"> * @dataProvider anime</span>
</span><span class='line'><span class="sd"> */</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testTotalStudents</span><span class="p">(</span><span class="nv">$a</span><span class="p">){</span>
</span><span class='line'>  
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertEquals</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$a</span><span class="p">));</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Here were still doing the same thing. But instead of getting the total and
using it as compare value were going to test if the total number of students
in each array is 4. Of course this will still return true since we&rsquo;ve already
removed jiraiya from the naruto characters array.</p>

<p>Did you finally grokked it? Me too! I guess its digging up to the last child of the array.
In this case its these guys:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">array</span><span class="p">(</span><span class="s1">&#39;luffy&#39;</span><span class="p">,</span> <span class="s1">&#39;zoro&#39;</span><span class="p">,</span> <span class="s1">&#39;brook&#39;</span><span class="p">,</span> <span class="s1">&#39;sanji&#39;</span><span class="p">)</span>
</span><span class='line'><span class="k">array</span><span class="p">(</span><span class="s1">&#39;sai&#39;</span><span class="p">,</span> <span class="s1">&#39;kiba&#39;</span><span class="p">,</span> <span class="s1">&#39;gaara&#39;</span><span class="p">,</span> <span class="s1">&#39;yamato&#39;</span><span class="p">)</span>
</span><span class='line'><span class="k">array</span><span class="p">(</span><span class="s1">&#39;sai&#39;</span><span class="p">,</span> <span class="s1">&#39;kiba&#39;</span><span class="p">,</span> <span class="s1">&#39;gaara&#39;</span><span class="p">,</span> <span class="s1">&#39;yamato&#39;</span><span class="p">)</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>So it doesn&rsquo;t matter how deep your array is as it always ends up in the most deepest part.
But I can&rsquo;t really say for sure because I&rsquo;m just concluding things based on what I&rsquo;ve observed
by playing with PHPUnit.</p>

<h4>Expected Output</h4>

<p>There&rsquo;s also a method used for checking the expected output of a method.
This is useful because we don&rsquo;t always return things using methods,
most of the time were just using methods to output things.</p>

<p>As you can see from the example below we first have to specify
our expected output before we actually call the method that will
output some string.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testOutput</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">expectOutputString</span><span class="p">(</span><span class="s2">&quot;what&#39;s up world&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">echo</span> <span class="s2">&quot;what&#39;s up world&quot;</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<h4>Expected Type</h4>

<p>Yet another useful assertion method is the <code>assertInternalType()</code> which simply
checks if a variable or the return value of a method has the expected data type.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'><span class="k">public</span> <span class="k">function</span> <span class="nf">testType</span><span class="p">(){</span>
</span><span class='line'>  <span class="nv">$ima_integer</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$ima_string</span> <span class="o">=</span> <span class="s2">&quot;meowth that&#39;s right!&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$ima_boolean</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$ima_array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;chunibyou&#39;</span><span class="p">,</span> <span class="s1">&#39;hyouka&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$ima_null</span> <span class="o">=</span> <span class="s2">&quot;nope Im not a null, im a string idjit!&quot;</span><span class="p">;</span>
</span><span class='line'>  <span class="nv">$ima_float</span> <span class="o">=</span> <span class="mf">234.24</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertInternalType</span><span class="p">(</span><span class="s1">&#39;integer&#39;</span><span class="p">,</span> <span class="nv">$ima_integer</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertInternalType</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="nv">$ima_string</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertInternalType</span><span class="p">(</span><span class="s1">&#39;boolean&#39;</span><span class="p">,</span> <span class="nv">$ima_boolean</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertInternalType</span><span class="p">(</span><span class="s1">&#39;array&#39;</span><span class="p">,</span> <span class="nv">$ima_array</span><span class="p">);</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertInternalType</span><span class="p">(</span><span class="s1">&#39;null&#39;</span><span class="p">,</span> <span class="nv">$ima_null</span><span class="p">);</span> <span class="c1">//this will fail as we supplied a string</span>
</span><span class='line'>  <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">assertInternalType</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">,</span> <span class="nv">$ima_float</span><span class="p">);</span>  
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>That&rsquo;s all folks! You can check out the resources below if you want to learn more about unit testing.</p>

<h3>Resources</h3>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Test-driven_development">Test Driven Development</a></li>
<li><a href="http://www.phpunit.de/manual/3.7/en/index.html">PHPUnit</a></li>
<li><a href="http://net.tutsplus.com/sessions/test-driven-php/">Test-Driven PHP</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Wern Ancheta</span></span>

      








  



  
<time datetime="2013-09-21T00:00:00+08:00" class="updated">Updated Sep 21<span>st</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/phpunit/'>phpUnit</a>, <a class='category' href='/blog/categories/unit-testing/'>unit-testing</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://anchetaWern.github.io/blog/2012/12/17/getting-started-with-unit-testing-in-php/" data-via="wern_ancheta" data-counturl="http://anchetaWern.github.io/blog/2012/12/17/getting-started-with-unit-testing-in-php/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/12/17/building-a-user-management-system-in-laravel/" title="Previous Post: Building a User Management System in Laravel">&laquo; Building a User Management System in Laravel</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/12/17/i7-storm/" title="Next Post: i7 Storm">i7 Storm &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/01/08/getting-started-with-paypal-api/">Getting Started with Paypal API</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/15/php-security-best-practices/">PHP Security Best Practices</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/01/getting-started-with-bitpay-api/">Getting Started with Bitpay API</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/09/getting-started-with-shopify-app-development/">Getting Started with Shopify App Development</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/03/gettting-started-with-coinbase-api/">Gettting Started with Coinbase API</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/anchetawern">@anchetawern</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'anchetawern',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>On Delicious</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/wernancheta?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/wernancheta">My Delicious Bookmarks &raquo;</a></p>
</section>


<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/104518132178203766400?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Wern Ancheta -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'wernancheta';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://anchetaWern.github.io/blog/2012/12/17/getting-started-with-unit-testing-in-php/';
        var disqus_url = 'http://anchetaWern.github.io/blog/2012/12/17/getting-started-with-unit-testing-in-php/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<script src="/javascripts/csshttprequest.min.js"></script>
<script>
if($('.entry-title').length == 1){
	var entry_title = $('.entry-title').text();
	CSSHttpRequest.get(
	    "http://phpdev-wern.rhcloud.com/crossdomain/counter.php?title=" + entry_title,
	    function(response){
	  		console.log('updated');  	
	    }
	);
}
</script>
</body>
</html>
